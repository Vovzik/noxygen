function ready(){let e=document.documentElement.getBoundingClientRect().width;window.addEventListener("resize",(function(){e=document.documentElement.getBoundingClientRect().width}));let t=[],o=document.createElement("style");function s(e,o){return"open"==o?t.push(e):"close"==o&&t.splice(t.indexOf(e),1),t.length}function n(e,t){s(e,t||"open"),1===s()&&(document.body.style.overflow="hidden",document.querySelectorAll("[data-scroll-trigger]").forEach(e=>{e.classList.add("scroll-offset")})),0===s()&&(document.body.style.overflow="",document.querySelectorAll("[data-scroll-trigger]").forEach(e=>{e.classList.remove("scroll-offset")}))}function a(e){setTimeout((function(){$(e).fadeOut(500)}),150),n(e.id,"close"),$(e).find("iframe").length&&player[$(e).find(".video__frame")[0].id].pauseVideo()}o.innerHTML=".scroll-offset { padding-right:"+(window.innerWidth-e)+"px;}",document.getElementsByTagName("head")[0].appendChild(o),document.querySelectorAll("[data-scroll-trigger]").forEach(e=>{e.classList.remove("scroll-offset")}),$(".modal__close").click((function(){a($(this).parents(".modal")[0])})),$(".modal").mouseup((function(e){const t=$(this).find(".modal-target");0==$(this).data("modal-target")||t.is(e.target)||0!==t.has(e.target).length||a(this)})),window.addEventListener("keyup",e=>{if("Escape"===e.key&&s()){const e=document.getElementById(t[t.length-1]);$(e).hasClass("modal")&&a(e)}}),$("[data-modal-open]").on("click",(function(){let e=$(this);return function(e,t){const o=document.getElementById(e);$("#"+e).fadeIn(500),setTimeout(()=>n(e),500),t(e,o)}(this.dataset.modalOpen,(function(t,o){"modal-product"==t&&($("#modal-product .basket__text > div > a").text(e.parents(".js-product").data("product-name")),$("#modal-product .basket--flex > strong").text(e.parents(".js-product").data("product-price")+"₽"),$("#modal-product .basket__images img").attr("src",e.parents(".js-product").data("product-src")),$("#modal-product .basket__text > div > a").attr("href",e.parents(".js-product").data("href")||e.parents(".js-product").data("product-link")||"#"),$("#modal-product .js__goods-value").val(e.parents(".js-product").find(".js__goods-value").val()))})),!1})),$("#modal-product .js-form-send").click((function(e){$("#basket-list-product-modal-form").val($("#modal-product .basket__text > div > a").text()+" "+$("#modal-product .js__goods-value").val()+"шт "+$("#modal-product .basket--flex > strong").text())})),$(".modal__close").click((function(){a($(this).parents(".modal")[0])})),$(".modal").mouseup((function(e){const t=$(this).find(".modal-target");0==$(this).data("modal-target")||t.is(e.target)||0!==t.has(e.target).length||a(this)})),window.addEventListener("keyup",e=>{if("Escape"===e.key&&s()){const e=document.getElementById(t[t.length-1]);$(e).hasClass("modal")&&a(e)}}),$(".phone").mask("+7 (999) 999-99-99"),$(".js-form").submit((function(){const e=$(this);e.find("button").prop("disabled",!0);var t=new FormData;return e.find(":input[name]").each((function(e,o){if("file"==o.type&&o.multiple){var s=o.files;for(e=0;e<s.length;e++)t.append("files[]",s[e])}else if("file"==o.type)t.append($(o).attr("name"),$(o).prop("files")[0]);else{var n=$(this);n.val()&&t.append(n.attr("name"),n.val())}})),$.ajax({url:"/wp-content/themes/noxygen/sendBasket.php",type:"POST",data:t,contentType:!1,cache:!1,processData:!1,success:function(t){e.trigger("reset"),e.find("button").prop("disabled",!1),window.location.href="/spasibo/"}}),!1})),function(){const e=document.querySelectorAll(".js__header-burgerclick"),t=document.querySelector(".js__menu-click"),o=document.querySelector(".js__menu-open"),s=document.querySelectorAll(".js__header-burger"),n=document.querySelectorAll(".js__header-open"),a=document.querySelector("body"),l=document.querySelector("header"),c=document.querySelector(".js__header-active");for(let t=0;t<e.length;t++)e[t].addEventListener("click",()=>{n[0].classList.toggle("open"),a.classList.toggle("lock"),l.classList.toggle("open");for(let e=0;e<3;e++)s[e].classList.toggle("open")});t.addEventListener("click",()=>{c.classList.toggle("open"),o.classList.toggle("open")}),a.clientWidth>1023?(a.classList.add("mouse"),a.classList.remove("tach")):(a.classList.add("tach"),a.classList.remove("mouse"))}(),document.querySelector(".fixed_block")?$(document).ready((function(){var e=$(".fixed_block"),t=e.offset().top;$(".fixed_block_position").css({width:e.outerWidth(),height:e.outerHeight()}),$(window).scroll((function(){$(window).scrollTop()>t?e.addClass("fixed"):e.removeClass("fixed")}))})):console.log("false"),new Swiper(".dope__swiper-container",{slidesPerView:1,loop:!0,navigation:{nextEl:".dope__swiper-button-next",prevEl:".dope__swiper-button-prev"},effect:"fade",fadeEffect:{crossFade:!0}}),function(){const e=document.querySelectorAll(".js__active");for(let t=0;t<e.length;t++)e[t]&&e[t].addEventListener("click",o=>{e.forEach(e=>e.classList.remove("active")),e[t].classList.add("active")}),document.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active"))})}(),function(){const e=document.querySelectorAll(".swiper-wrapper");for(let t=0;t<e.length;t++)e[t].addEventListener("click",e=>{e.stopPropagation();let t=e.target.closest(".js__active");const o=document.querySelectorAll(".js__active");o&&t&&(o.forEach(e=>e.classList.remove("active")),t.classList.add("active"),document.addEventListener("click",()=>{t.classList.remove("active")}))})}(),document.querySelector("body").clientWidth<=1023&&new Swiper(".goods__swiper-container",{slidesPerView:1,spaceBetween:20,loop:!1,pagination:{el:".goods__swiper-pagination",type:"progressbar"},breakpoints:{320:{slidesPerView:1.3,spaceBetween:20},500:{slidesPerView:1.4,spaceBetween:20}}}),function(){const e=document.querySelectorAll(".swiper-wrapper");for(let t=0;t<e.length;t++)e[t].addEventListener("click",e=>{const t=e.target.closest(".js__goods-plus"),o=e.target.closest(".js__goods-minus"),s=e.target.closest(".goods__value-inner");if(s){const e=s.querySelector(".js__goods-value");t?e.value++:o&&e.value>1&&e.value--}})}(),new Swiper(".popular__swiper-container",{slidesPerView:3,spaceBetween:40,loop:!0,pagination:{el:".popular__swiper-pagination",clickable:!0},navigation:{nextEl:".popular__swiper-button-next",prevEl:".popular__swiper-button-prev"},breakpoints:{320:{slidesPerView:1.3,spaceBetween:20,loop:!1,pagination:{el:".popular__swiper-pagination",clickable:!0,type:"progressbar"}},1024:{slidesPerView:3,spaceBetween:40,loop:!0,pagination:{el:".popular__swiper-pagination",clickable:!0,type:"bullets"}}}});const l=document.querySelectorAll(".js__catalog-click");for(let e=0;e<l.length;e++)l[e]&&l[e].addEventListener("click",()=>{document.querySelectorAll(".js__catalog-click").forEach(e=>e.classList.add("hidden")),document.querySelectorAll('[data-scene="preparation"]')[e].classList.remove("hidden")});const c=new Swiper(".cardmini__swiper-container",{slidesPerView:3,spaceBetween:20,grabCursor:!0,slideToClickedSlide:!0,watchSlidesProgress:!0,freeCSS:!0,breakpoints:{1024:{direction:"vertical"}}});new Swiper(".card__swiper-container",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},allowTouchMove:!1,navigation:{nextEl:".card__swiper-button-next",prevEl:".card__swiper-button-prev"},thumbs:{swiper:c}});!function(){const e=document.querySelectorAll(".js__card-accardion-click"),t=document.querySelectorAll(".js__card-open");for(let o=0;o<e.length;o++)e[o]&&e[o].addEventListener("click",()=>{t[o].classList.toggle("open"),e[o].classList.toggle("open")})}(),function(){const e=document.querySelectorAll(".js__basket-reset");for(let t=0;t<e.length;t++)if(e[t]){const o=e[t].placeholder;e[t].addEventListener("click",()=>{e[t].placeholder=""}),e[t].addEventListener("blur",()=>{e[t].placeholder=o,console.log(o)})}}(),setTimeout((function(){}),1e3)}document.addEventListener("DOMContentLoaded",ready);